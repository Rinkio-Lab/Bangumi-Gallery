<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Rin's Gallery</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <!-- Material Icons -->
    <style>
        @font-face {
            font-family: "Material Icons";
            font-style: normal;
            font-weight: 400;
            src: url("assets/Material Icons.woff2") format("woff2");
        }

        .material-icons {
            font-family: "Material Icons" !important;
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: "liga";
            font-feature-settings: "liga";
            -webkit-font-smoothing: antialiased;
        }
    </style>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header>
        <div class="header-left">
            <h1 class="header-title">Rin's Gallery</h1>
            <div class="controls">
                <!-- 搜索标题 -->
                <div class="icon-input">
                    <span class="material-icons">search</span>
                    <input id="searchInput" type="text" placeholder="搜索标题或别名">
                </div>
                <!-- 搜索标签 -->
                <div class="tag-search-wrapper icon-input">
                    <span class="material-icons">label</span>
                    <input id="tagSearchInput" type="text" placeholder="搜索标签">
                    <div id="tagSuggestions" class="suggestions"></div>
                </div>
                <!-- 排序 -->
                <select id="sortSelect">
                    <option value="title">按标题排序</option>
                    <option value="year-desc">年份（新→旧）</option>
                    <option value="year-asc">年份（旧→新）</option>
                    <option value="rating-desc">评分（高→低）</option>
                    <option value="rating-asc">评分（低→高）</option>
                </select>
                <!-- 状态过滤 -->
                <div class="status-filters">
                    <label class="modern-checkbox">
                        <input type="checkbox" data-status="unprepared">
                        <span class="checkmark"></span>
                        未准备
                    </label>
                    <label class="modern-checkbox">
                        <input type="checkbox" data-status="planned">
                        <span class="checkmark"></span>
                        已计划
                    </label>
                    <label class="modern-checkbox">
                        <input type="checkbox" data-status="watching">
                        <span class="checkmark"></span>
                        正在看
                    </label>
                    <label class="modern-checkbox">
                        <input type="checkbox" data-status="abandoned">
                        <span class="checkmark"></span>
                        已放弃
                    </label>
                    <label class="modern-checkbox">
                        <input type="checkbox" data-status="finished">
                        <span class="checkmark"></span>
                        已看完
                    </label>
                </div>
            </div>
        </div>
        <div class="header-right">
            <!-- 主题切换 -->
            <button id="themeToggle" class="btn">
                <span class="material-icons">dark_mode</span>
            </button>
            <!-- 批量模式 -->
            <button id="batchModeToggle" class="btn">
                <span class="material-icons">calculate</span>
            </button>
            <!-- 番组表单 -->
            <button id="batchModeToggle" class="btn" onclick="window.location.href='bangumi.html'">
                <span class="material-icons">edit</span>
            </button>
        </div>
    </header>

    <div id="selectedTags" class="selected-tags"></div>
    <main id="gallery" class="gallery"></main>

    <footer>© 2025 LimeBow Studios</footer>

    <!-- Modal -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <button id="modalClose" class="close-btn">
                <span class="material-icons">close</span>
            </button>
            <div class="modal-top">
                <img id="modal-cover" src="" alt="">
                <div class="modal-info">
                    <h2 id="modal-title"></h2>
                    <p id="modal-meta"></p>
                    <p id="modal-other" class="muted"></p>
                    <div id="modal-tags" class="tag-scroll single-line"></div>
                </div>
            </div>
            <div id="modal-desc" class="desc-scroll"></div>
            <div class="modal-actions">
                <button id="modal-fav" class="fav-btn">
                    <span class="material-icons">favorite_border</span> 收藏
                </button>
                <span id="modal-status"></span>
            </div>
        </div>
    </div>

    <div id="statusModal" class="modal hidden">
        <div class="modal-content">
            <h3>选择状态</h3>
            <div class="status-options">
                <button data-status="planned" class="btn"><span class="material-icons">schedule</span> 计划</button>
                <button data-status="watching" class="btn"><span class="material-icons">tv</span> 在看</button>
                <button data-status="finished" class="btn"><span class="material-icons">check_circle</span> 已完结</button>

                <!-- 靠右 -->
                <button id="statusCancel" class="btn" style="float: right;"><span class="material-icons">close</span> 取消</button>
            </div>
        </div>
    </div>


    <script src="assets/bangumi.js"></script>
    <script src="script.js"></script>
</body>

</html>
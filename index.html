<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <title>Bangumi Gallery | Rinkio-Lab</title>

    <meta name="description" content="Rinkio's Blog">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <style>
        @font-face {
            font-family: "Material Icons";
            font-style: normal;
            font-weight: 400;
            src: url("assets/fonts/Material\ Icons.woff2") format("woff2");
        }

        .material-icons {
            font-family: "Material Icons" !important;
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: "liga";
            font-feature-settings: "liga";
            -webkit-font-smoothing: antialiased;
        }
    </style>
    <link rel="stylesheet" href="assets/materialize.min.css" />
    <link rel="stylesheet" href="assets/fonts/Iosevka.css" />

    <!-- CSS -->
    <link rel="stylesheet" href="main.css" />
</head>

<body class="grey lighten-5">
    <!-- Modal ç»“æ„ -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <h4 id="modalTitle"></h4>
            <p id="modalOther"></p>
            <p id="modalInfo"></p>
            <p id="modalDesc"></p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">å…³é—­</a>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="teal">
        <div class="nav-wrapper container">
            <a class="brand-logo" href="#">ç•ªçµ„ã‚®ãƒ£ãƒ©ãƒªãƒ¼</a>
            <ul class="right hide-on-med-and-down">
                <li>
                    <a id="themeBtn" href="#!">
                        <i class="material-icons left" id="themeIcon">brightness_6</i>
                        <span id="themeLabel">åˆ‡æ¢ä¸»é¢˜ï¼ˆå½“å‰ï¼šè·Ÿéšç³»ç»Ÿï¼‰</span>
                    </a>
                </li>
                <li>
                    <a href="https://materializecss.com/getting-started.html" target="_blank" rel="noopener">
                        <i class="material-icons left">open_in_new</i><span
                            style="font-size: smaller;">Materialize</span> æ–‡æ¡£
                    </a>
                </li>
                <li>
                    <a href="#about"><i class="material-icons left">info_outline</i>å…³äº</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Controls -->
    <section class="section">
        <div class="container">
            <div class="row">
                <div class="controls">
                    <div class="col s6 m3 l2">
                        <a href="bangumi.html"><i class="material-icons left">edit</i>ç•ªç»„è¡¨å•<br>ç”Ÿæˆå™¨</a>
                    </div>
                    <!-- æœç´¢ -->
                    <div class="input-field col s12 m6 l4">
                        <i class="material-icons prefix">search</i>
                        <input id="searchInput" type="text" placeholder="æœç´¢ï¼šæ ‡é¢˜ / åˆ«å" />
                    </div>

                    <!-- æ’åº -->
                    <div class="input-field col s6 m3 l2">
                        <select id="sortField">
                            <option value="title" selected>æ ‡é¢˜</option>
                            <option value="rating">è¯„åˆ†</option>
                            <option value="year">å¹´ä»½</option>
                            <option value="episodes">è¯æ•°</option>
                        </select>
                        <label>æ’åºå­—æ®µ</label>
                    </div>

                    <div class="input-field col s6 m3 l2">
                        <select id="sortOrder">
                            <option value="asc" selected>å‡åº</option>
                            <option value="desc">é™åº</option>
                        </select>
                        <label>æ’åºæ–¹å‘</label>
                    </div>

                    <!-- æ ‡ç­¾ç­›é€‰ï¼ˆåŠ¨æ€æ¸²æŸ“ï¼‰ -->
                    <div class="input-field col s6 m3 l2">
                        <div id="tagChips" class="chips chips-placeholder"></div>
                    </div>

                    <!-- æ¨¡å¼åˆ‡æ¢ -->
                    <div class="col s12 m6 l4 right-align">
                        <div class="btn-group mode-toggle right">
                            <a id="gridBtn" class="btn waves-effect active-mode">
                                <i class="material-icons left">grid_on</i>ç½‘æ ¼
                            </a>
                            <a id="listBtn" class="btn waves-effect">
                                <i class="material-icons left">view_list</i>åˆ—è¡¨
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- å†…å®¹ -->
    <main class="container" id="contentArea" aria-live="polite">
        <!-- JS æ¸²æŸ“ï¼šç½‘æ ¼ï¼ˆcardsï¼‰æˆ– åˆ—è¡¨ï¼ˆcollectionï¼‰ -->
    </main>

    <!-- åˆ†é¡µ -->
<!--
<div class="section">
  <div class="container center">
    <ul id="pagination" class="pagination"></ul>
  </div>
</div>
-->

    <!-- å…³äº -->
    <footer id="about" class="page-footer teal">
        <div class="container">
            <div class="row">
                <div class="col s12 m8">
                    <h5 class="white-text">å…³äºæœ¬é¡µ / <a class="grey-text text-lighten-4"
                            href="https://github.com/Rinkio-Lab/Bangumi-Gallery" target="_blank">GitHub</a></h5>
                    <p class="grey-text text-lighten-4">
                        ç”± Rinkio-Lab åˆ¶ä½œï¼Œä½¿ç”¨ Materialize æ …æ ¼ï¼ˆ12 åˆ—ï¼‰ã€å¡ç‰‡ï¼ˆcardsï¼‰ä¸é›†åˆï¼ˆcollectionsï¼‰å®ç°ç•ªå‰§ç€‘å¸ƒæµ/ç½‘æ ¼/åˆ—è¡¨è§†å›¾ï¼Œ
                        æ”¯æŒæœç´¢ã€æ’åºã€æ ‡ç­¾ç­›é€‰ä¸æ— é™æ»šåŠ¨ã€‚å›¾æ ‡æ¥è‡ª Google Material Iconsã€‚
                    </p>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                Â© 2025 Rinkio's Blog. All rights reserved.
                <a class="grey-text text-lighten-4 right" href="https://github.com/Rinkio-Lab"
                    target="_blank">GitHub</a>
            </div>
        </div>
    </footer>

    <!-- JS -->
    <script src="assets/masonry.pkgd.min.js"></script>
    <script src="assets/materialize.min.js"></script>

    <!-- æ•°æ® -->
    <script src="assets/bangumi.js"></script>
    <!-- é€»è¾‘ -->
    <script src="main.js"></script>

    <!-- ä¸»é¢˜åˆ‡æ¢é€»è¾‘ -->
    <script>
        // --- ä¸‰æ€ï¼šè·Ÿéšç³»ç»Ÿ(null) / æš—(dark) / äº®(light) ---
        const KEY = "bangumi_theme_v1";
        const themeBtn = document.getElementById("themeBtn");
        const themeIcon = document.getElementById("themeIcon");
        const themeLabel = document.getElementById("themeLabel");

        function applyTheme(theme) {
            // theme: "dark" | "light" | null
            if (theme === "dark" || theme === "light") {
                document.documentElement.setAttribute("data-theme", theme);
                localStorage.setItem(KEY, theme);
            } else {
                document.documentElement.removeAttribute("data-theme");
                localStorage.setItem(KEY, "");
            }
            updateThemeBtn();
        }

        function currentTheme() {
            return document.documentElement.getAttribute("data-theme"); // null | "dark" | "light"
        }

        function updateThemeBtn() {
            const theme = currentTheme();
            themeLabel.textContent = "é»‘æš—æ¨¡å¼";
            // æ–‡æ¡ˆä¸å›¾æ ‡è”åŠ¨
            if (theme === "dark") {
                // themeLabel.textContent = "åˆ‡æ¢ä¸»é¢˜ï¼ˆå½“å‰ï¼šæš—ï¼‰";
                themeIcon.textContent = "dark_mode"; // ğŸŒ™
            } else if (theme === "light") {
                // themeLabel.textContent = "åˆ‡æ¢ä¸»é¢˜ï¼ˆå½“å‰ï¼šäº®ï¼‰";
                themeIcon.textContent = "light_mode"; // â˜€ï¸
            } else {
                // themeLabel.textContent = "åˆ‡æ¢ä¸»é¢˜ï¼ˆå½“å‰ï¼šè·Ÿéšç³»ç»Ÿï¼‰";
                themeIcon.textContent = "brightness_6"; // è‡ªåŠ¨
            }
        }

        // ç‚¹å‡»åœ¨ä¸‰æ€é—´å¾ªç¯
        themeBtn.addEventListener("click", () => {
            const cur = currentTheme();
            if (!cur) applyTheme("dark");       // è‡ªåŠ¨ -> æš—
            else if (cur === "dark") applyTheme("light"); // æš— -> äº®
            else applyTheme(null);              // äº® -> è‡ªåŠ¨
        });

        // åˆå§‹åŒ–ï¼šåº”ç”¨ç”¨æˆ·åå¥½
        (function initTheme() {
            const saved = localStorage.getItem(KEY);
            if (saved === "dark" || saved === "light") {
                document.documentElement.setAttribute("data-theme", saved);
            } else {
                document.documentElement.removeAttribute("data-theme");
            }
            updateThemeBtn();
        })();

        // å½“å¤„äºâ€œè·Ÿéšç³»ç»Ÿâ€æ—¶ï¼Œç³»ç»Ÿå¤–è§‚æ”¹å˜è¦æ›´æ–°æŒ‰é’®æç¤º
        const mq = window.matchMedia("(prefers-color-scheme: dark)");
        mq.addEventListener?.("change", () => {
            if (!currentTheme()) updateThemeBtn();
        });
    </script>
</body>

</html>